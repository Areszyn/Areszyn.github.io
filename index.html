<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Emoji Explosion</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      touch-action: none;
      position: relative;
      background: linear-gradient(-45deg,
        #ff0000, #ff9900, #ffff00, #33ff00, #00ffff, #3300ff, #ff00ff, #ff0000);
      background-size: 400% 400%;
      animation: rgbFlow 2s linear infinite;
      transition: background 0.5s;
    }

    @keyframes rgbFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .emoji {
      position: absolute;
      animation: floatUp 2s linear forwards, fall 2s linear forwards;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s, transform 0.2s;
    }

    .emoji:hover {
      transform: scale(1.3) rotate(15deg);
    }

    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
    }

    @keyframes fall {
      0% { transform: translateY(0); }
      100% { transform: translateY(100px); }
    }

    #emojiCount {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      font-size: 20px;
      z-index: 10;
    }

    #themeToggle {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0,0,0,0.5);
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      z-index: 10;
    }

    .light-mode {
      background: #fff !important;
      animation: none !important;
    }

    .light-mode #emojiCount {
      color: black;
    }

    .light-mode #themeToggle {
      background: rgba(255,255,255,0.6);
      color: black;
    }

    .light-mode body {
      background: linear-gradient(-45deg, 
        #ff0000, #ff9900, #ffff00, #33ff00, #00ffff, #3300ff, #ff00ff, #ff0000);
      background-size: 400% 400%;
      animation: rgbFlow 2s linear infinite;
    }
  </style>
</head>
<body>
<!-- Add Brazilian Funk music -->
<audio id="funkMusic" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto" loop autoplay></audio>

<div id="emojiCount">Emojis: 0</div>
<button id="themeToggle">Toggle Theme</button>

<script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
<script>
  kofiWidgetOverlay.draw('areszyn', {
    'type': 'floating-chat',
    'floating-chat.donateButton.text': 'Donate',
    'floating-chat.donateButton.background-color': '#323842',
    'floating-chat.donateButton.text-color': '#fff'
  });
</script>

<script>
const emojis = [
  '❤️','✨','🔥','🌟','😄','💥','🧡','🥳','🤩','💫','🎉','👑','💎','⚡','🎊','🧨','💖','🎈','🪐','💗','🍀',
  '🦋','🎵','🎶','🧁','🍭','🍬','🍕','🍔','🍟','🍩','🍓','🍉','🍇','🍒','🥝','🍎','🍊','🍌','🥥','🍍',
  '☀️','🌈','🌸','🌼','🌺','🌻','🌹','🌷','🌵','🌲','🌳','🌴','🌙','⭐','💡','🦄','🧊','🔮','🧿','📸',
  '🐶','🐱','🐭','🐹','🐰','🦊','🐻','🐼','🐨','🐯','🦁','🐮','🐷','🐸','🐵','🦍','🐔','🐧','🐦','🐤',
  '🐣','🦆','🦅','🦉','🦇','🐺','🦄','🐝','🐛','🦋','🐌','🐞','🐜','🪲','🕷️','🦂','🐢','🐍','🦎','🦖',
  '🦕','🐙','🦑','🦐','🦞','🦀','🐡','🐠','🐟','🐬','🐳','🐋','🦈','🐊','🦓','🦍','🦧','🐘','🦛','🦏',
  '🐪','🐫','🦒','🦘','🦬','🐃','🐂','🐄','🐎','🐖','🐏','🐑','🦙','🐐','🦌','🐕','🐩','🐈','🐓','🦃',
  '🕊️','🦜','🦢','🦩','🦚','🦤','🪶','🦎','🦂','🪰','🪱','🪳','🪲','🦠','💀','👻','👽','🤖','🎃'
];

const soundEffects = ['pop1'];
const emojiCountDisplay = document.getElementById("emojiCount");
let emojiCount = 0;

function spawnEmoji(x, y, playSound = false) {
  const emoji = document.createElement("div");
  emoji.className = "emoji";
  emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];

  const randomSize = Math.random() * 50 + 20;
  emoji.style.fontSize = `${randomSize}px`;

  const angle = Math.random() * (Math.PI / 6) - (Math.PI / 12);
  const offsetX = Math.cos(angle) * 50;
  emoji.style.left = `${x + offsetX}px`;
  emoji.style.top = `${y}px`;

  emoji.style.color = getRandomColor();

  const randomLifetime = Math.random() * 2000 + 2000;
  document.body.appendChild(emoji);

  requestAnimationFrame(() => {
    emoji.style.opacity = '1';
    emoji.style.transform = `translateY(0) scale(1)`;
  });

  setTimeout(() => emoji.remove(), randomLifetime);

  if (playSound) playRandomSound();

  emojiCount++;
  emojiCountDisplay.textContent = `Emojis: ${emojiCount}`;
}

function getRandomColor() {
  const letters = '0123456789ABCDEF';
  let color = '#';
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}

function playRandomSound() {
  const sound = document.getElementById(soundEffects[0]);
  sound.currentTime = 0;
  sound.play().catch(() => {});
}

function handleTouch(e, isClick = false) {
  const touches = e.touches || [e];
  for (let t of touches) {
    spawnEmoji(t.clientX, t.clientY, isClick);
  }
}

document.addEventListener("touchstart", (e) => handleTouch(e, true));
document.addEventListener("mousedown", (e) => handleTouch(e, true));
document.addEventListener("touchmove", (e) => handleTouch(e));
document.addEventListener("mousemove", (e) => {
  if (e.buttons) handleTouch(e);
});

document.getElementById("themeToggle").addEventListener("click", () => {
  document.body.classList.toggle("light-mode");
});
</script>
</body>
</html>
